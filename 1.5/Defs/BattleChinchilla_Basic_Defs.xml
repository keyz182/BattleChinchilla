<?xml version="1.0" encoding="utf-8"?>

<Defs>
    <MVCF.ModDef>
        <defName>BattleChincilla</defName>
        <label>Battle Chincilla</label>
        <description>Battle Chincilla</description>
        <ActivateFeatures>
            <li>Drawing</li>
            <li>ApparelVerbs</li>
            <li>IndependentFire</li>
            <li>IntegratedToggle</li>
        </ActivateFeatures>
    </MVCF.ModDef>

    <ThingDef ParentName="ArmorMachineableBase">
        <defName>BC_ChinchillaBattleArmour</defName>
        <label>chinchilla battle armour</label>
        <description>It's armour, for chinchillas, in battle.</description>
        <descriptionHyperlinks>
            <ThingDef>Chinchilla</ThingDef>
        </descriptionHyperlinks>
        <techLevel>Spacer</techLevel>
        <recipeMaker>
            <unfinishedThingDef>UnfinishedTechArmor</unfinishedThingDef>
            <researchPrerequisite>FlakArmor</researchPrerequisite>
            <recipeUsers Inherit="False">
                <li>FabricationBench</li>
            </recipeUsers>
            <skillRequirements>
                <Crafting>9</Crafting>
            </skillRequirements>
        </recipeMaker>
        <generateCommonality>0</generateCommonality>
        <thingCategories>
            <li>Animal_Apparel</li>
        </thingCategories>
        <thingSetMakerTags>
            <li>RewardSpecial</li>
        </thingSetMakerTags>

        <verbs>
            <li>
                <verbClass>Verb_Shoot</verbClass>
                <label>Gun</label>
                <defaultProjectile>Bullet_MiniTurret</defaultProjectile>
                <warmupTime>0</warmupTime>
                <range>28.9</range>
                <hasStandardCommand>true</hasStandardCommand>
                <ticksBetweenBurstShots>8</ticksBetweenBurstShots>
                <burstShotCount>1</burstShotCount>
                <soundCast>GunShotA</soundCast>
                <soundCastTail>GunTail_Light</soundCastTail>
                <muzzleFlashScale>9</muzzleFlashScale>
            </li>
        </verbs>

        <comps>
            <li Class="MVCF.Comps.CompProperties_VerbGiver">
                <verbProps>
                    <li>
                        <label>Gun</label>
                        <visualLabel>mini-turret gun</visualLabel>
                        <description>A simple automatic gun made to be mounted on a shoulder.</description>
                        <canBeToggled>true</canBeToggled>
                        <comps>
                            <li Class="MVCF.VerbComps.VerbCompProperties_Turret">
                                <compClass>MVCF.VerbComps.VerbComp_Turret</compClass>
                                <humanAsDefault>true</humanAsDefault>
                                <graphic>
                                    <texPath>Things/Pawn/Animal/Apparel/MiniTurretPack_Gun</texPath>
                                    <graphicClass>Graphic_Single</graphicClass>
                                </graphic>
                                <defaultPosition>
                                    <Default>(0,0)</Default>
                                    <Up>(0.3,-0.2)</Up>
                                    <Down>(0.3,0.2)</Down>
                                    <Right>(0.0,0.4)</Right>
                                    <Left>(0.0,0.4)</Left>
                                </defaultPosition>
                                <drawScale>2</drawScale>
                            </li>
                        </comps>
                    </li>
                </verbProps>
            </li>
        </comps>

        <mergeVerbGizmos>false</mergeVerbGizmos>
        <graphicData>
            <texPath>Things/Pawn/Animal/Apparel/Body/BC</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <equippedStatOffsets>
            <MoveSpeed>-0.1</MoveSpeed>
        </equippedStatOffsets>
        <statBases>
            <WorkToMake>60000</WorkToMake>
            <MaxHitPoints>540</MaxHitPoints>
            <Mass>10</Mass>
            <Flammability>0.1</Flammability>
            <ArmorRating_Sharp>1.08</ArmorRating_Sharp>
            <ArmorRating_Blunt>1</ArmorRating_Blunt>
            <ArmorRating_Heat>1</ArmorRating_Heat>
            <Insulation_Cold>44</Insulation_Cold>
            <Insulation_Heat>20</Insulation_Heat>
            <EquipDelay>15</EquipDelay>
        </statBases>
        <costList>
            <ComponentSpacer>4</ComponentSpacer>
            <Plasteel>200</Plasteel>
            <Uranium>30</Uranium>
        </costList>
        <apparel>
            <bodyPartGroups>
                <li>Torso</li>
                <li>Legs</li>
                <li>Neck</li>
            </bodyPartGroups>
            <wornGraphicPath>Things/Pawn/Animal/Apparel/Body/BC</wornGraphicPath>
            <layers>
                <li>Middle</li>
            </layers>
            <useDeflectMetalEffect>true</useDeflectMetalEffect>
            <canBeDesiredForIdeo>false</canBeDesiredForIdeo>
            <tags>
                <li>Animal</li>
                <li>AnimalCUTOUTCOMPLEX</li>
                <li>Chinchilla</li>
            </tags>
        </apparel>
    </ThingDef>

	<ThingDef ParentName="ArmorMachineableBase">
		<defName>BC_ChinchillaBattleBerret</defName>
		<label>chinchilla battle berret</label>
		<description>Chinchilla berret. Smort.</description>
		<descriptionHyperlinks>
			<ThingDef>Chinchilla</ThingDef>
		</descriptionHyperlinks>
		<statBases>
			<WorkToMake>8000</WorkToMake>
			<MaxHitPoints>240</MaxHitPoints>
			<Mass>0.2</Mass>
            <StuffEffectMultiplierArmor>0.7</StuffEffectMultiplierArmor>
            <StuffEffectMultiplierInsulation_Cold>0.15</StuffEffectMultiplierInsulation_Cold>
            <StuffEffectMultiplierInsulation_Heat>0</StuffEffectMultiplierInsulation_Heat>
            <EquipDelay>2.5</EquipDelay>
		</statBases>
  		<costStuffCount>25</costStuffCount>
		<costList>
			<ComponentIndustrial>1</ComponentIndustrial>
  			<Plasteel>5</Plasteel>
		</costList>
		<apparel>
			<tags>
                <li>Animal</li>
                <li>AnimalCUTOUTCOMPLEX</li>
                <li>Chinchilla</li>
			</tags>
            <canBeDesiredForIdeo>false</canBeDesiredForIdeo>
            <bodyPartGroups>
                <li>UpperHead</li>
            </bodyPartGroups>
            <wornGraphicPath>Things/Pawn/Animal/Apparel/Head/BC</wornGraphicPath>
            <layers>
                <li>Shell</li>
            </layers>
            <defaultOutfitTags>
                <li>Anything</li>
                <li>Soldier</li>
            </defaultOutfitTags>
		</apparel>
        <techLevel>Industrial</techLevel>
        <graphicData>
            <texPath>Things/Pawn/Animal/Apparel/Head/BC</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <thingCategories>
            <li>Animal_Apparel</li>
        </thingCategories>
        <generateAllowChance>0</generateAllowChance>
        <colorGenerator Class="ColorGenerator_Options">
            <options>
                <li>
                    <weight>10</weight>
                    <only>(0.98,0.1,0.1)</only>
                </li>
                <li>
                    <weight>10</weight>
                    <only>(0.1,0.1,0.99)</only>
                </li>
                <li>
                    <weight>6</weight>
                    <min>(0.3,0.3,0.3)</min>
                    <max>(0.5,0.5,0.5)</max>
                </li>
            </options>
        </colorGenerator>
        <recipeMaker>
            <unfinishedThingDef>UnfinishedMetallicTechArmor</unfinishedThingDef>
            <researchPrerequisite>FlakArmor</researchPrerequisite>
            <skillRequirements>
                <Crafting>5</Crafting>
            </skillRequirements>
        </recipeMaker>
        <stuffCategories>
            <li>Fabric</li>
        </stuffCategories>
	</ThingDef>

    <ThinkTreeDef>
        <defName>BC_ChinchillaTalking</defName>
        <insertTag>Animal_PreWander</insertTag>
        <insertPriority>100</insertPriority>
        <thinkRoot Class="ThinkNode_Priority">
            <subNodes>
                <li Class="BattleChinchilla.ThinkNode_Chinchilla">
                    <subNodes>
                        <li Class="ThinkNode_ChancePerHour_Constant">
                            <mtbHours>5</mtbHours>
                            <subNodes>
                                <li Class="ThinkNode_Tagger">
                                    <tagToGive>Misc</tagToGive>
                                    <subNodes>
                                        <li Class="BattleChinchilla.JobGiver_Talk" />
                                    </subNodes>
                                </li>
                            </subNodes>
                        </li>
                    </subNodes>
                </li>
            </subNodes>
        </thinkRoot>
    </ThinkTreeDef>

    <JobDef>
        <defName>BC_ChinchillaTalking</defName>
        <driverClass>BattleChinchilla.JobDriver_Talk</driverClass>
        <reportString>talking with TargetA.</reportString>
        <allowOpportunisticPrefix>true</allowOpportunisticPrefix>
    </JobDef>


    <InteractionDef>
        <defName>BC_ChinchillaInteraction</defName>
        <label>chatting</label>
        <workerClass>BattleChinchilla.InteractionWorker_AnimalSpeak</workerClass>
        <symbol>Things/Mote/TeachingIcon</symbol>
        <recipientThought>Chitchat</recipientThought>
        <logRulesInitiator>
            <rulesStrings>
                <li>r_logentry->[INITIATOR_nameDef] and [RECIPIENT_nameDef] [talkedabout] [warthings].</li>
                <li>r_logentry->[INITIATOR_nameDef] [talkedabout] [warthings] with [RECIPIENT_nameDef].</li>
                <li>r_logentry(p=0.8)->[INITIATOR_nameDef] [commentedabout] [warthings] to [RECIPIENT_nameDef].</li>

                <li>talkedabout(p=4)->chatted about</li>
                <li>talkedabout->shared a word about</li>
                <li>talkedabout->spoke about</li>
                <li>talkedabout->gabbed about</li>
                <li>talkedabout->talked about</li>
                <li>talkedabout->mumbled about</li>
                <li>talkedabout->quipped about</li>

                <li>commentedabout->said something about</li>
                <li>commentedabout->made a comment about</li>
                <li>commentedabout->commented about</li>
                <li>commentedabout->mused about</li>

                <li>warthings->loving when a plan comes together</li>
                <li>warthings->visceral reaction to blood splatter in battle</li>
                <li>warthings->the importance of maintaining good formation</li>
                <li>warthings->the importance of weapon maintenance</li>
                <li>warthings->their favourite ration</li>
                <li>warthings->the art of tactical retreats (running away)</li>
                <li>warthings->proper grenade throwing technique</li>
                <li>warthings->their favorite war crimes</li>
                <li>warthings->the importance of a good battle cry</li>
                <li>warthings->how to polish armor to maximum shininess</li>
                <li>warthings->the best places to hide explosives</li>
                <li>warthings->why swords are cooler than guns</li>
                <li>warthings->epic tales of running up hills in heavy armor</li>
                <li>warthings->the proper way to trash talk enemies</li>
                <li>warthings->their collection of enemy teeth</li>
                <li>warthings->that one time they single-handedly defeated an army</li>
                <li>warthings->the best way to intimidate larger opponents</li>
                <li>warthings->their secret combat techniques</li>
                <li>warthings->why small warriors are the most fearsome</li>
            </rulesStrings>
        </logRulesInitiator>
    </InteractionDef>
</Defs>
